
    <template id="report_timesheets">
        <t t-call="web.html_container">


            <t t-call="web.internal_layout">
<!--            <t t-call="web.external_layout">-->
                <t t-foreach="docs" t-as="o">
                    <div class="page">
                               <style type="text/css">
                        .tdCenter{text-align:center;padding: 5px;border:1px solid #000000;}
                        .tdLeft{text-align:left;padding: 5px;border:1px solid #000000;}
                        .tdRight{text-align:right;padding: 5px;border:1px solid #000000;}
                        .bold{font-weight: bold; }
                        .line-height35{line-height: 35px;}
                        .blue{ background-color: #e2e8e8;}
                        .bghead{background-color: #7b0b5b;color: #ffffff;}
                        .bgcolor{background-color: #929393;color: #ffffff;}
                    </style>
                        <h2 align="center" style="color:red;">TimeSheet Report</h2>

                                    <t t-if="not grouped_timesheets">
                <div class="alert alert-warning mt8" role="alert">
                    There are no timesheets.
                </div>
            </t>
            <t t-if="grouped_timesheets">


                    <div class="row">

                        <div class="col-xl-12"
                             style="text-align: center;font-family:Calibri !important;">
                            <t>
                                <img t-if="res_company.logo"
                                     t-att-src="'data:image/png;base64,%s' %res_company.logo" class="center"
                                     style="height: 80px;"/>
                            </t>
                            <br/>
                            <span style="color:green;font-size:18px;font-weight: bold;">
                                <t t-esc="res_company.name"/>
                            </span>
                            <br/>
                            <span style="font-size:13px;font-weight: bold;">
                                <t t-if="res_company.street">
                                    <t t-esc="res_company.street"/>,
                                </t>
                                <t t-if="res_company.street2">
                                    <t t-esc="res_company.street2"/>

                                </t>

                                <t t-if="res_company.city">
<!--                                    <br/>-->
<!--                                    <t t-esc="res_company.city"/>-->
<!--                                </t>-->

<!--                                <t t-if="res_company.state_id">-->
                                    <br/>
                                    <t t-esc="res_company.state_id.name"/>,
                                </t>
                                <t t-if="res_company.zip">
                                    <t t-esc="res_company.zip"/>,
                                </t>
                                <t t-if="res_company.country_id">
                                    <t t-esc="res_company.country_id.name"/>
                                </t>
                                <t t-if="res_company.email">
                                    .EMAIL -
                                    <t t-esc="res_company.email"/>
                                </t>
                            </span>

                        </div>
                    </div>


<!--                    <div class="row">-->
<!--                        <div class="col-xl-12"-->
<!--                             style="text-align: center;font-size:16px;font-family:Calibri !important;color:red;font-weight: bold;">-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class="col-xl-12" width="100%">-->
<!--                        <table cellpading="0" cellspacing="0" border="0" width="100%">-->

<!--                             <b style="font-size:18px;"> Start Date : <t t-esc="date_start"/> <![CDATA[&nbsp;]]>-->
<!--                                End Date : <t t-esc="date_end"/> </b>-->
<!--                           <br/><br/>-->
<!--                        </table>-->

<!--                    </div>-->
                <br/>

                     <t t-set="total_hourstotal" t-value="0"/>
                <t t-set="balancetotal" t-value="0"/>
                    <t t-set="consumed_hourstotal" t-value="0"/>


                    <!--<table class="table table-condensed">-->

                    <!--<t t-if="target_move" >-->
                        <table style="width:100%">
                        <thead>
                            <tr class="text-center">

                                <th style="width:7%;padding:3px;" class="tdCenter bghead">Sl No.</th>
                                <th style="width:30%;padding:3px;" class="tdCenter bghead">Customer</th>
                                <th style="width:23%;padding:3px;" class="tdCenter bghead">Total Hours Purchased</th>
                                <th style="width:20%;padding:3px;" class="tdCenter bghead">Consumed Hours</th>
                                <th style="width:20%;padding:3px;" class="tdCenter bghead">Balance</th>

                            </tr>
                        </thead>
                        <tbody>


                            <t t-foreach="grouped_timesheets" t-as="line_ids" >
                                        <tr style="page-break-inside: avoid;">
                                            <td style="border: 1px solid black;border-collapse:collapse;text-align:center;padding:3px;">
                                                <span t-esc="line_ids['sl_no']"/>
                                            </td>
                                            <td style="border: 1px solid black;border-collapse:collapse;padding:3px;text-align:left;">
                                                <span t-esc="line_ids['customer']"/>
                                            </td>

                                            <td style="border: 1px solid black;border-collapse:collapse;padding:3px;text-align:center;">
                                                <span t-esc="line_ids['total_hours']"/>
                                            </td>

                                             <td style="border: 1px solid black;border-collapse:collapse;padding:3px;text-align:center;">
                                                <span t-esc="line_ids['consumed_hours']"/>
                                            </td>
                                            <td style="border: 1px solid black;border-collapse:collapse;text-align:center;padding:3px;">
                                                <span t-esc="'{0:,.2f}'.format(float(line_ids['balance']))"/>
                                                <t t-set="balancetotal" t-value="balancetotal + line_ids['balance']" />

                                            </td>


                                        </tr>

                                    </t>
                        <tr >

                             <td colspan="2" style="text-align:center;border: 1px solid black;border-collapse:collapse;padding:3px;">
                                <span><b>Total</b></span>
                            </td>

                             <td style="border: 1px solid black;border-collapse:collapse;text-align:center;padding:3px;">
                                <b> <t t-esc="'{0:,.2f}'.format(float(total_hourstotal))" /></b>
                            </td>
                             <td style="border: 1px solid black;border-collapse:collapse;text-align:center;padding:3px;">
                                <b> <t t-esc="'{0:,.2f}'.format(float(consumed_hourstotal))" /></b>
                            </td>

                            <td style="border: 1px solid black;border-collapse:collapse;text-align:center;padding:3px;">
                                <b> <t t-esc="'{0:,.2f}'.format(float(balancetotal))" /></b>
                            </td>


                        </tr>



                        </tbody>
                    </table>


                </t>

                    </div>
                </t>
            </t>
        </t>
    </template>